<!DOCTYPE html>
<html lang="en" class="dark">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard | TranscribeFlow</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="/static/styles.css">
    <link rel="stylesheet" href="/static/dashboard.css">
    <link rel="stylesheet" href="/static/sidebar.css">
</head>

<body>
    <div class="app-container">

        <!-- Main Content -->
        <main class="main-content">

            <!-- ===== Page Header ===== -->
            <section class="dash-header">
                <div class="dash-container">
                    <div class="dash-header-content">
                        <h1 class="dash-title">
                            <span class="title-gradient">Dashboard</span>
                        </h1>
                        <p class="dash-subtitle">Your audio intelligence overview</p>
                    </div>
                </div>
            </section>

            <!-- ===== Main Grid ===== -->
            <section class="dash-content">
                <div class="dash-container">
                    <div class="dash-grid">

                        <!-- â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ QUICK ACTIONS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
                        <div class="dash-card card-animate" data-delay="0">
                            <div class="dash-card-header">
                                <div class="dash-card-icon">
                                    <i class="fas fa-bolt"></i>
                                </div>
                                <h2 class="dash-card-title">Quick Actions</h2>
                            </div>
                            <div class="dash-card-body">
                                <div class="actions-grid">
                                    <!-- Upload New Audio -->
                                    <div class="action-card" id="actionUpload">
                                        <div class="action-icon">
                                            <i class="fas fa-cloud-upload-alt"></i>
                                        </div>
                                        <div class="action-info">
                                            <h3>Upload New Audio</h3>
                                            <p>Transcribe &amp; summarize a new file</p>
                                        </div>
                                        <i class="fas fa-arrow-right action-arrow"></i>
                                    </div>
                                    <!-- Go to History -->
                                    <div class="action-card" id="actionHistory">
                                        <div class="action-icon history">
                                            <i class="fas fa-history"></i>
                                        </div>
                                        <div class="action-info">
                                            <h3>Go to History</h3>
                                            <p>View your past transcriptions</p>
                                        </div>
                                        <i class="fas fa-arrow-right action-arrow"></i>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ USAGE SNAPSHOT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
                        <div class="dash-card card-animate" data-delay="1">
                            <div class="dash-card-header">
                                <div class="dash-card-icon">
                                    <i class="fas fa-chart-bar"></i>
                                </div>
                                <h2 class="dash-card-title">Usage Snapshot</h2>
                            </div>
                            <div class="dash-card-body">
                                <div class="stats-mini-grid">
                                    <!-- Minutes Transcribed -->
                                    <div class="stat-mini">
                                        <div class="stat-mini-value counter" id="statMinutes">0</div>
                                        <div class="stat-mini-label">Total Minutes</div>
                                        <div class="stat-mini-trend" id="trendMinutes">
                                            <i class="fas fa-minus"></i> â€”
                                        </div>
                                    </div>
                                    <!-- Files Processed -->
                                    <div class="stat-mini">
                                        <div class="stat-mini-value counter" id="statFiles">0</div>
                                        <div class="stat-mini-label">Files Processed</div>
                                        <div class="stat-mini-trend" id="trendFiles">
                                            <i class="fas fa-minus"></i> â€”
                                        </div>
                                    </div>
                                    <!-- Most Used Language -->
                                    <div class="stat-mini">
                                        <div class="stat-mini-value lang-value" id="statLanguage">â€”</div>
                                        <div class="stat-mini-label">Most Used Language</div>
                                        <div class="stat-mini-trend stable">
                                            <i class="fas fa-minus"></i> Stable
                                        </div>
                                    </div>
                                    <!-- Audio Duration Frequency -->
                                    <div class="stat-mini">
                                        <div class="stat-mini-value counter" id="statAvgDuration">0</div>
                                        <div class="stat-mini-label">Avg Duration (min)</div>
                                        <div class="stat-mini-trend stable">
                                            <i class="fas fa-minus"></i> â€”
                                        </div>
                                    </div>
                                </div>

                                <!-- Progress Bar -->
                                <div class="usage-progress">
                                    <div class="progress-label">
                                        <span>Weekly Quota Used</span>
                                        <span class="progress-value" id="quotaPercent">0%</span>
                                    </div>
                                    <div class="progress-track">
                                        <div class="progress-fill-bar" id="quotaBar"></div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ AI INSIGHTS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
                        <div class="dash-card card-full card-animate" data-delay="2">
                            <div class="dash-card-header">
                                <div class="dash-card-icon">
                                    <i class="fas fa-brain"></i>
                                </div>
                                <h2 class="dash-card-title">AI Insights</h2>
                            </div>
                            <div class="dash-card-body">
                                <div class="insights-grid">

                                    <!-- 1) Common Topics -->
                                    <div class="insight-section">
                                        <h3 class="insight-label">Common Topics</h3>
                                        <div class="tag-chips" id="topicsContainer">
                                            <span class="tag-chip" style="opacity:0.5">Loadingâ€¦</span>
                                        </div>
                                    </div>

                                    <!-- 2) Sentiment Trend -->
                                    <div class="insight-section">
                                        <h3 class="insight-label">Sentiment Trend</h3>
                                        <div class="sentiment-bars" id="sentimentContainer">
                                            <div class="sentiment-row">
                                                <span class="sentiment-label">Positive</span>
                                                <div class="sentiment-track">
                                                    <div class="sentiment-fill positive" id="sentimentPosBar" style="--bar-width: 0%"></div>
                                                </div>
                                                <span class="sentiment-pct" id="sentimentPosPct">0%</span>
                                            </div>
                                            <div class="sentiment-row">
                                                <span class="sentiment-label">Neutral</span>
                                                <div class="sentiment-track">
                                                    <div class="sentiment-fill neutral" id="sentimentNeuBar" style="--bar-width: 0%"></div>
                                                </div>
                                                <span class="sentiment-pct" id="sentimentNeuPct">0%</span>
                                            </div>
                                            <div class="sentiment-row">
                                                <span class="sentiment-label">Negative</span>
                                                <div class="sentiment-track">
                                                    <div class="sentiment-fill negative" id="sentimentNegBar" style="--bar-width: 0%"></div>
                                                </div>
                                                <span class="sentiment-pct" id="sentimentNegPct">0%</span>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- 3) Productivity Score -->
                                    <div class="insight-section center">
                                        <h3 class="insight-label">Productivity Score</h3>
                                        <div class="circular-progress" id="productivityRing">
                                            <div class="circular-inner">
                                                <span class="circular-value" id="productivityValue">0</span>
                                                <span class="circular-unit">%</span>
                                            </div>
                                        </div>
                                        <p class="insight-hint">Based on this week's activity</p>
                                    </div>

                                </div>
                            </div>
                        </div>

                    </div><!-- /.dash-grid -->
                </div>
            </section>

        </main>

        <!-- ===== Floating Chatbot ===== -->
        <!-- Toggle Button -->
        <button class="chatbot-toggle" id="chatbotToggle" aria-label="Open chat assistant">
            <i class="fas fa-comment-dots chatbot-toggle-icon" id="chatbotIcon"></i>
        </button>

        <!-- Chat Window -->
        <div class="chatbot-window" id="chatbotWindow">
            <div class="chatbot-header">
                <div class="chatbot-header-info">
                    <div class="chatbot-avatar">
                        <i class="fas fa-robot"></i>
                    </div>
                    <div>
                        <h3>TranscribeFlow Assistant</h3>
                        <span class="chatbot-status">Online</span>
                    </div>
                </div>
                <button class="chatbot-close" id="chatbotClose" aria-label="Close chat">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="chatbot-messages" id="chatbotMessages">
                <div class="chat-msg bot">
                    <div class="chat-bubble">Hi there! ðŸ‘‹ How can I help you today?</div>
                </div>
            </div>
            <div class="chatbot-input-area">
                <input type="text" class="chatbot-input" id="chatbotInput" placeholder="Type a messageâ€¦"
                    autocomplete="off">
                <button class="chatbot-send" id="chatbotSend" aria-label="Send message">
                    <i class="fas fa-paper-plane"></i>
                </button>
            </div>
        </div>

        <!-- Footer -->
        <footer class="premium-footer">
            <div class="footer-bottom">
                <div class="copyright">
                    Â© 2026 TranscribeFlow. All rights reserved.
                </div>
                <div class="footer-legal">
                    <a href="/privacy" class="legal-link">Privacy</a>
                    <a href="/terms" class="legal-link">Terms</a>
                    <a href="/security" class="legal-link">Security</a>
                </div>
            </div>
        </footer>
    </div>

    <!-- Scripts -->
    <script src="/static/sidebar.js"></script>
    <script src="/static/dashboard.js"></script>
    <script>
        // Auth guard
        const token = localStorage.getItem('access_token');
        if (!token) {
            window.location.href = '/login';
        }
    </script>
</body>

</html>