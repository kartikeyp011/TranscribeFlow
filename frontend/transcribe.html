<!DOCTYPE html>
<html lang="en" class="dark">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TranscribeFlow - Audio Transcription & AI Summary</title>
  <link rel="stylesheet" href="./transcribe.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>

<body>
  <div class="app-container">
    <!-- Navigation -->
    <nav class="app-nav">
      <div class="nav-container">
        <div class="nav-logo">
          <a href="index.html" class="logo-link">
            <span class="logo-text">
              Transcribe<span class="logo-accent">Flow</span>
            </span>
          </a>
          <span class="nav-subtitle">Audio Transcription & AI Summary</span>
        </div>
        <div class="nav-actions">
          <button id="clearAllBtn" class="nav-cta secondary">
            <i class="fas fa-trash-alt"></i>
            <span>Clear All</span>
          </button>
          <a href="./index.html" class="nav-cta">
            <i class="fas fa-home"></i>
            <span>Back to Home</span>
          </a>
        </div>
      </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
      <!-- Top Section: Upload (x) + Audio Player (1.5x) -->
      <div class="top-section">
        <!-- Upload Card (x) -->
        <div class="top-left-column">
          <div class="card upload-card">
            <div class="card-header">
              <div class="card-icon">
                <i class="fas fa-cloud-upload-alt"></i>
              </div>
              <div class="card-header-content">
                <h2>Upload Audio</h2>
                <p class="card-subtitle">Upload your audio file for transcription</p>
              </div>
            </div>

            <form id="uploadForm" class="upload-form">
              <!-- Language Selection -->
              <div class="language-input-section">
                <label for="inputLanguage" class="input-language-label">
                  <i class="fas fa-globe"></i>
                  <span>Audio Language</span>
                </label>
                <select id="inputLanguage" class="input-language-select">
                  <option value="en">English</option>
                  <option value="hi">Hindi (हिन्दी)</option>
                  <option value="es">Spanish (Español)</option>
                  <option value="fr">French (Français)</option>
                  <option value="de">German (Deutsch)</option>
                  <option value="zh">Chinese (中文)</option>
                  <option value="ja">Japanese (日本語)</option>
                  <option value="ko">Korean (한국어)</option>
                  <option value="ar">Arabic (العربية)</option>
                  <option value="ru">Russian (Русский)</option>
                  <option value="pt">Portuguese (Português)</option>
                  <option value="bn">Bengali (বাংলা)</option>
                  <option value="te">Telugu (తెలుగు)</option>
                  <option value="mr">Marathi (मराठी)</option>
                  <option value="ta">Tamil (தமிழ்)</option>
                  <option value="ur">Urdu (اردو)</option>
                  <option value="it">Italian (Italiano)</option>
                  <option value="nl">Dutch (Nederlands)</option>
                  <option value="tr">Turkish (Türkçe)</option>
                  <option value="vi">Vietnamese (Tiếng Việt)</option>
                  <option value="th">Thai (ไทย)</option>
                  <option value="id">Indonesian (Bahasa Indonesia)</option>
                </select>
                <p class="language-hint">
                  <i class="fas fa-info-circle"></i>
                  Select the language spoken in your audio file for better accuracy
                </p>
              </div>
              
              <div class="dropzone" id="dropzone">
                <input type="file" id="audioFile" accept=".mp3,.wav,.m4a,.ogg">
                <div class="dropzone-content">
                  <div class="dropzone-icon">
                    <i class="fas fa-file-audio"></i>
                  </div>
                  <div class="dropzone-text">
                    <span id="dropzoneText" class="dropzone-main">Click to select or drag & drop</span>
                    <span id="dropzoneHint" class="dropzone-hint">MP3, WAV, M4A, OGG • Max 25MB</span>
                  </div>
                </div>
                <div id="fileName" class="file-name-preview"></div>
              </div>

              <button type="submit" id="processBtn" class="btn-primary">
                <span id="processBtnText">Process Audio</span>
                <i class="fas fa-magic"></i>
                <i id="processingSpinner" class="fas fa-spinner fa-spin hidden"></i>
              </button>
            </form>

            <div id="loading" class="loading-indicator hidden">
              <div class="loading-spinner"></div>
              <div class="loading-content">
                <span class="loading-text">Processing audio...</span>
                <div class="loading-progress">
                  <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                  </div>
                </div>
              </div>
            </div>

            <div id="errorMsg" class="error-message hidden"></div>
          </div>
        </div>

        <!-- File Info & Audio Player (1.5x) -->
        <div class="top-right-column">
          <div id="fileInfoSection" class="card file-info-card hidden">
            <div class="card-header">
              <div class="card-icon">
                <i class="fas fa-file-audio"></i>
              </div>
              <div class="card-header-content">
                <h3>Audio Player</h3>
                <p class="card-subtitle">Playback controls</p>
              </div>
            </div>

            <div class="audio-content">
              <!-- File Metadata -->
              <div class="file-metadata-grid">
                <div class="metadata-item">
                  <div class="metadata-label">
                    <i class="fas fa-file-alt"></i>
                    File Name
                  </div>
                  <div id="fileInfoName" class="metadata-value">-</div>
                </div>
                <div class="metadata-item">
                  <div class="metadata-label">
                    <i class="fas fa-weight-hanging"></i>
                    File Size
                  </div>
                  <div id="fileInfoSize" class="metadata-value">-</div>
                </div>
                <div class="metadata-item">
                  <div class="metadata-label">
                    <i class="fas fa-clock"></i>
                    Uploaded
                  </div>
                  <div id="fileInfoTime" class="metadata-value">-</div>
                </div>
                <div class="metadata-item">
                  <div class="metadata-label">
                    <i class="fas fa-language"></i>
                    Language
                  </div>
                  <div id="fileInfoLanguage" class="metadata-value">-</div>
                </div>
              </div>

              <!-- Enhanced Audio Player -->
              <div class="enhanced-audio-player">
                <div class="player-header">
                  <h4>Now Playing</h4>
                  <div class="player-controls">
                    <button id="playPause" class="control-btn play-btn">
                      <i class="fas fa-play"></i>
                    </button>
                    <div class="time-display">
                      <span id="currentTime">0:00</span> / <span id="duration">0:00</span>
                    </div>
                    <div class="volume-control">
                      <i class="fas fa-volume-up"></i>
                      <input type="range" id="volumeBar" min="0" max="100" value="100" class="volume-slider">
                    </div>
                  </div>
                </div>
                
                <div class="audio-progress-container">
                  <input type="range" id="progressBar" min="0" max="100" value="0" class="progress-slider">
                </div>
                
                <!-- Native Audio Element (hidden but functional) -->
                <audio id="audioPlayer" class="native-audio"></audio>
                
                <div class="additional-controls">
                  <button id="skipBack" class="control-btn small">
                    <i class="fas fa-step-backward"></i>
                    <span>10s</span>
                  </button>
                  <button id="skipForward" class="control-btn small">
                    <i class="fas fa-step-forward"></i>
                    <span>10s</span>
                  </button>
                  <button id="speedControl" class="control-btn small">
                    <i class="fas fa-tachometer-alt"></i>
                    <span>1.0x</span>
                  </button>
                  <button id="downloadAudio" class="control-btn small">
                    <i class="fas fa-download"></i>
                    <span>Save</span>
                  </button>
                </div>
              </div>
            </div>
          </div>

          <!-- Empty state for audio player section -->
          <div id="playerEmptyState" class="empty-state-large">
            <div class="empty-state-content">
              <div class="empty-state-icon">
                <i class="fas fa-headphones"></i>
              </div>
              <h3>Audio Player</h3>
              <p>Upload an audio file to see detailed information and playback controls</p>
              <div class="empty-state-features">
                <div class="feature-item">
                  <i class="fas fa-check"></i>
                  <span>File metadata display</span>
                </div>
                <div class="feature-item">
                  <i class="fas fa-check"></i>
                  <span>Advanced playback controls</span>
                </div>
                <div class="feature-item">
                  <i class="fas fa-check"></i>
                  <span>Playback speed adjustment</span>
                </div>
                <div class="feature-item">
                  <i class="fas fa-check"></i>
                  <span>File download option</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Results Section -->
      <div id="results" class="results-section hidden">
        <!-- Global Controls -->
        <div class="global-controls">
          <div class="controls-group">
            <div class="control-item">
              <label for="fontSize" class="control-label">
                <i class="fas fa-text-height"></i>
                Font Size
              </label>
              <select id="fontSize" class="font-select">
                <option value="12">Small</option>
                <option value="14" selected>Medium</option>
                <option value="16">Large</option>
                <option value="18">XL</option>
              </select>
            </div>

            <div class="control-item">
              <button id="copyAllBtn" class="btn-secondary">
                <i class="fas fa-copy"></i>
                Copy All
              </button>
              <button id="exportAllBtn" class="btn-primary">
                <i class="fas fa-download"></i>
                Export All
              </button>
            </div>
          </div>
        </div>

        <!-- Transcript and Summary Side by Side -->
        <div class="results-grid">
          <!-- Transcript Column -->
          <div class="result-column">
            <div class="card result-card transcript-card">
              <!-- Transcript Header -->
              <div class="transcript-header">
                <div class="transcript-header-main">
                  <div class="header-icon-title">
                    <div class="card-icon">
                      <i class="fas fa-file-alt"></i>
                    </div>
                    <div class="header-title-section">
                      <h3>Transcript</h3>
                      <p class="header-subtitle">Full text transcription of your audio</p>
                    </div>
                  </div>
                  <div class="transcript-stats">
                    <div class="stat-item">
                      <i class="fas fa-search"></i>
                      <span id="searchResults" class="stat-value">0 matches</span>
                    </div>
                    <div class="stat-item">
                      <i class="fas fa-font"></i>
                      <span id="wordCount" class="stat-value">0 words</span>
                    </div>
                  </div>
                </div>
                
                <!-- Transcript Controls -->
                <div class="transcript-controls">
                  <!-- Search Section -->
                  <div class="control-section search-section">
                    <div class="control-label">
                      <i class="fas fa-search"></i>
                      <span>Search Transcript</span>
                    </div>
                    <div class="search-controls">
                      <div class="search-box">
                        <i class="fas fa-search search-icon"></i>
                        <input type="text" id="searchInput" placeholder="Type to search..." class="search-input">
                      </div>
                      <div class="search-actions">
                        <button id="searchPrev" class="btn-icon small" title="Previous match">
                          <i class="fas fa-chevron-up"></i>
                        </button>
                        <button id="searchNext" class="btn-icon small" title="Next match">
                          <i class="fas fa-chevron-down"></i>
                        </button>
                        <button id="clearSearch" class="btn-icon small" title="Clear search">
                          <i class="fas fa-times"></i>
                        </button>
                      </div>
                    </div>
                  </div>
                  
                  <!-- Action Section -->
                  <div class="control-section action-section">
                    <div class="control-label">
                      <i class="fas fa-cog"></i>
                      <span>Actions</span>
                    </div>
                    <div class="action-buttons">
                      <div class="language-controls">
                        <select id="targetLanguage" class="language-select">
                          <option value="">Translate to...</option>
                          <option value="en">English</option>
                          <option value="es">Spanish</option>
                          <option value="fr">French</option>
                          <option value="de">German</option>
                          <option value="hi">Hindi</option>
                          <option value="zh-cn">Chinese</option>
                          <option value="ja">Japanese</option>
                          <option value="ar">Arabic</option>
                          <option value="ru">Russian</option>
                          <option value="pt">Portuguese</option>
                          <option value="it">Italian</option>
                          <option value="ko">Korean</option>
                        </select>
                        <button id="translateBtn" class="btn-icon" title="Translate transcript">
                          <i class="fas fa-language"></i>
                        </button>
                      </div>
                      <div class="utility-buttons">
                        <button id="copyTranscript" class="btn-icon" title="Copy transcript">
                          <i class="fas fa-copy"></i>
                        </button>
                        <button id="exportTxt" class="btn-icon" title="Export transcript">
                          <i class="fas fa-download"></i>
                        </button>
                        <button id="speakTranscript" class="btn-icon" title="Read aloud">
                          <i class="fas fa-volume-up"></i>
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Transcript Content -->
              <div class="transcript-content-container">
                <div id="transcript" class="transcript-content scrollable-content">
                  <div class="transcript-placeholder">
                    <div class="placeholder-icon">
                      <i class="fas fa-wave-square"></i>
                    </div>
                    <h4>No Transcript Yet</h4>
                    <p>Upload and process an audio file to see the AI-generated transcript here.</p>
                  </div>
                </div>
                
                <!-- Transcript Footer -->
                <div class="transcript-footer">
                  <div class="footer-info">
                    <i class="fas fa-info-circle"></i>
                    <span>Use Ctrl+F to search • Click on text to select</span>
                  </div>
                  <div class="footer-actions">
                    <button id="scrollToTop" class="btn-icon small" title="Scroll to top">
                      <i class="fas fa-arrow-up"></i>
                    </button>
                    <button id="scrollToBottom" class="btn-icon small" title="Scroll to bottom">
                      <i class="fas fa-arrow-down"></i>
                    </button>
                  </div>
                </div>
              </div>

              <!-- Translated Transcript (hidden by default) -->
              <div id="translatedTranscriptCard" class="translated-section hidden">
                <div class="translated-header">
                  <div class="translated-title">
                    <div class="card-icon small">
                      <i class="fas fa-language"></i>
                    </div>
                    <h4>Translated Transcript</h4>
                    <div id="translationInfo" class="translation-info">Translated to English</div>
                  </div>
                  <div class="translated-actions">
                    <button id="copyTranslated" class="btn-icon small" title="Copy translated text">
                      <i class="fas fa-copy"></i>
                    </button>
                    <button id="exportTranslated" class="btn-icon small" title="Export translation">
                      <i class="fas fa-download"></i>
                    </button>
                    <button id="closeTranslation" class="btn-icon small" title="Close translation">
                      <i class="fas fa-times"></i>
                    </button>
                  </div>
                </div>
                <div id="translatedTranscript" class="translated-content scrollable-content">
                  <div class="translation-placeholder">
                    <i class="fas fa-language"></i>
                    <p>Select a language and click translate to see the translation here.</p>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Summary Column -->
          <div class="result-column">
            <div class="card result-card summary-card">
              <div class="card-header">
                <div class="card-icon">
                  <i class="fas fa-sparkles"></i>
                </div>
                <div class="card-header-content">
                  <h3>AI Summary</h3>
                  <p class="card-subtitle">Key points extracted from your audio</p>
                </div>
                <div class="card-actions">
                  <button id="copySummary" class="btn-icon" title="Copy">
                    <i class="fas fa-copy"></i>
                  </button>
                  <button id="exportSummaryTxt" class="btn-icon" title="Export">
                    <i class="fas fa-download"></i>
                  </button>
                </div>
              </div>

              <div id="summary" class="card-content scrollable-content fixed-height">
                <div class="summary-placeholder">
                  <i class="fas fa-brain placeholder-icon"></i>
                  <p>AI summary will appear here after processing</p>
                </div>
              </div>

              <!-- Translated Summary (hidden by default) -->
              <div id="translatedSummaryCard" class="translated-section hidden">
                <div class="translated-header">
                  <div class="card-icon small">
                    <i class="fas fa-language"></i>
                  </div>
                  <h4>Translated Summary</h4>
                  <div class="translated-actions">
                    <button id="copyTranslatedSummary" class="btn-icon small" title="Copy">
                      <i class="fas fa-copy"></i>
                    </button>
                  </div>
                </div>
                <div id="translatedSummary" class="card-content scrollable-content fixed-height">
                  Translation will appear here...
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Empty State -->
      <div id="emptyState" class="empty-state">
        <div class="empty-state-content">
          <div class="empty-state-icon">
            <i class="fas fa-wave-square"></i>
          </div>
          <h3>Upload Your First Audio</h3>
          <p>Select an audio file to begin transcription and AI summarization</p>
          <div class="empty-state-features">
            <div class="feature-item">
              <i class="fas fa-check"></i>
              <span>Supports MP3, WAV, M4A, OGG</span>
            </div>
            <div class="feature-item">
              <i class="fas fa-check"></i>
              <span>Real-time processing logs</span>
            </div>
            <div class="feature-item">
              <i class="fas fa-check"></i>
              <span>Export & share functionality</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Processing Logs (Moved to bottom) -->
      <div class="logs-section">
        <div class="card logs-card">
          <div class="card-header">
            <div class="card-icon">
              <i class="fas fa-terminal"></i>
            </div>
            <div class="card-header-content">
              <h3>Processing Logs</h3>
              <p class="card-subtitle">Real-time updates</p>
            </div>
            <div class="card-actions">
              <button id="clearLogsBtn" class="btn-icon small" title="Clear logs">
                <i class="fas fa-eraser"></i>
              </button>
            </div>
          </div>

          <div id="logsContent" class="logs-content">
            <div class="log-entry log-info">
              <span class="log-time">[00:00:00]</span>
              <span class="log-message">Ready to process audio</span>
            </div>
          </div>
        </div>
      </div>
    </main>

    <!-- Toast Container -->
    <div id="toastContainer" class="toast-container"></div>

    <!-- Footer -->
    <footer class="app-footer">
      <div class="footer-copyright">
        © 2026 TranscribeFlow. All rights reserved.
      </div>
    </footer>
  </div>

  <script src="./transcribe.js"></script>
</body>

</html>
